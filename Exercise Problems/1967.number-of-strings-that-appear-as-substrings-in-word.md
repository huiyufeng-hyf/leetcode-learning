**https://leetcode.cn/problems/number-of-strings-that-appear-as-substrings-in-word**

- Solution by enumeration
```
public class Solution {
    public int NumOfStrings(string[] patterns, string word) {
        var cnt = 0;
        foreach (var sub in patterns)
        {
            if (word.IndexOf(sub) >= 0)
                cnt++;
        }
        return cnt;
    }
}
```
**Python**
```
class Solution:
    def numOfStrings(self, patterns: List[str], word: str) -> int:
        cnt = 0
        for sub in patterns:
            if sub in word:
                cnt += 1
        return cnt
        
```

---

- Recommendation 1 by violence matching
```
class Solution:
    def numOfStrings(self, patterns: List[str], word: str) -> int:
        def check(pattern: str, word: str) -> bool:
            m = len(pattern)
            n = len(word)
            for i in range(n - m + 1):
                flag = True
                for j in range(m):
                    if word[i + j] != pattern[j]:
                        flag = False
                        break
                if flag:
                    return True
            return False

        res = 0
        for pattern in patterns:
            res += check(pattern, word)
        return res
        
```

---

- Recommendation 2 by KMP algorithm
```
class Solution:
    def numOfStrings(self, patterns: List[str], word: str) -> int:
        def check(pattern: str, word: str) -> bool:
            m = len(pattern)
            n = len(word)
            
            pi = [0] * m
            j = 0
            for i in range(1, m):
                while j and pattern[i] != pattern[j]:
                    j = pi[j - 1]
                if pattern[i] == pattern[j]:
                    j += 1
                pi[i] = j
            
            j = 0
            for i in range(n):
                while j and word[i] != pattern[j]:
                    j = pi[j - 1]
                if word[i] == pattern[j]:
                    j += 1
                if j == m:
                    return True
            return False

        res = 0
        for pattern in patterns:
            res += check(pattern, word)
        return res
        
```
